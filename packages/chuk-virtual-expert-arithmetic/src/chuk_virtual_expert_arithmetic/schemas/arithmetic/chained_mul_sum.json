{
  "name": "chained_mul_sum",
  "description": "Chained multiplications then sum",
  "pattern": "chained_mul_sum",
  "variant": "people",
  "vocab": {
    "person1": {"type": "person_with_pronouns"},
    "person2": {"type": "person_with_pronouns"},
    "person3": {"type": "person_with_pronouns"},
    "item": {"path": "items.countable_singular"}
  },
  "template_vars": {
    "name1": "person1.name",
    "name2": "person2.name",
    "name3": "person3.name",
    "subject1": "person1.subject",
    "subject2": "person2.subject",
    "his_her1": "person1.possessive",
    "items": "item|pluralize"
  },
  "variables": {
    "count1": {
      "type": "int",
      "min": 5,
      "max": 30
    },
    "factor1": {
      "type": "int",
      "min": 2,
      "max": 5
    },
    "factor2": {
      "type": "int",
      "min": 2,
      "max": 4
    }
  },
  "trace": [
    {
      "op": "init",
      "var": "count1",
      "value": "count1"
    },
    {
      "op": "init",
      "var": "factor1",
      "value": "factor1"
    },
    {
      "op": "compute",
      "compute_op": "mul",
      "args": [
        "count1",
        "factor1"
      ],
      "var": "step1"
    },
    {
      "op": "init",
      "var": "factor2",
      "value": "factor2"
    },
    {
      "op": "compute",
      "compute_op": "mul",
      "args": [
        "step1",
        "factor2"
      ],
      "var": "step2"
    },
    {
      "op": "compute",
      "compute_op": "add",
      "args": [
        "count1",
        "step1"
      ],
      "var": "step3"
    },
    {
      "op": "compute",
      "compute_op": "add",
      "args": [
        "step3",
        "step2"
      ],
      "var": "result"
    },
    {
      "op": "query",
      "var": "result"
    }
  ],
  "answer": "count1 + count1 * factor1 + count1 * factor1 * factor2",
  "pattern": "chained_mul_sum",
  "variant": "people"
}
