{
  "name": "recover_then_multiply",
  "description": "Recover original amount then multiply: (current + consumed) * multiplier",
  "variables": {
    "current": {
      "type": "int",
      "min": 3,
      "max": 20
    },
    "consumed": {
      "type": "int",
      "min": 2,
      "max": 10
    },
    "multiplier": {
      "type": "choice",
      "values": [
        2,
        3
      ]
    }
  },
  "trace": [
    {
      "op": "init",
      "var": "current",
      "value": "current"
    },
    {
      "op": "init",
      "var": "consumed",
      "value": "consumed"
    },
    {
      "op": "compute",
      "compute_op": "add",
      "args": [
        "current",
        "consumed"
      ],
      "var": "step1"
    },
    {
      "op": "init",
      "var": "multiplier",
      "value": "multiplier"
    },
    {
      "op": "compute",
      "compute_op": "mul",
      "args": [
        "step1",
        "multiplier"
      ],
      "var": "result"
    },
    {
      "op": "query",
      "var": "result"
    }
  ],
  "answer": "(current + consumed) * multiplier",
  "pattern": "recover_then_multiply",
  "vocab": {
    "person1": {
      "type": "person_with_pronouns"
    },
    "person2": {
      "type": "person_with_pronouns"
    },
    "item": {
      "path": "items.countable_singular"
    }
  },
  "template_vars": {
    "name1": "person1.name",
    "name2": "person2.name",
    "item_plural": "item|pluralize"
  }
}
