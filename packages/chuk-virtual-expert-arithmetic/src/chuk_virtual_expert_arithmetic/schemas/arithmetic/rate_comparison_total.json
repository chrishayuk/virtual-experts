{
  "name": "rate_comparison_total",
  "description": "Two machines with rate comparison: A produces X/hr, B produces N times A. Total in T hours?",
  "variables": {
    "rate": {
      "type": "int",
      "min": 5,
      "max": 20
    },
    "multiplier": {
      "type": "int",
      "min": 2,
      "max": 4
    },
    "hours": {
      "type": "int",
      "min": 4,
      "max": 10
    }
  },
  "derived": {
    "output_a": "rate * hours",
    "rate_b": "rate * multiplier",
    "output_b": "rate_b * hours",
    "total": "output_a + output_b"
  },
  "trace": [
    {
      "op": "init",
      "var": "rate",
      "value": "rate"
    },
    {
      "op": "init",
      "var": "hours",
      "value": "hours"
    },
    {
      "op": "compute",
      "compute_op": "mul",
      "args": [
        "rate",
        "hours"
      ],
      "var": "step1"
    },
    {
      "op": "init",
      "var": "multiplier",
      "value": "multiplier"
    },
    {
      "op": "compute",
      "compute_op": "mul",
      "args": [
        "rate",
        "multiplier"
      ],
      "var": "step2"
    },
    {
      "op": "compute",
      "compute_op": "mul",
      "args": [
        "step2",
        "hours"
      ],
      "var": "step3"
    },
    {
      "op": "compute",
      "compute_op": "add",
      "args": [
        "step1",
        "step3"
      ],
      "var": "result"
    },
    {
      "op": "query",
      "var": "result"
    }
  ],
  "answer": "total",
  "pattern": "rate_patterns",
  "variant": "comparison_total",
  "vocab": {
    "agent_pair": {
      "path": "phrases.agent_pairs"
    },
    "item": {
      "path": "phrases.rate_items"
    }
  },
  "template_vars": {
    "agent1": "agent_pair.first",
    "agent2": "agent_pair.second",
    "items": "item"
  }
}
