{
  "name": "two_period_sum",
  "description": "Sum of two periods with different rates: rate1*time1 + rate2*time2",
  "pattern": "two_period_sum",
  "variables": {
    "rate1": {"type": "int", "min": 3, "max": 10},
    "time1": {"type": "int", "min": 5, "max": 30},
    "rate2": {"type": "int", "min": 3, "max": 10},
    "time2": {"type": "int", "min": 5, "max": 30}
  },
  "vocab": {
    "person": {"type": "person_with_pronouns"},
    "item": {"path": "items.countable_singular"}
  },
  "template_vars": {
    "name": "person.name",
    "subj": "person.subject|capitalize"
  },
  "templates": [
    "${name} eats ${rate1} ${item}s a day for ${time1} days and then ${rate2} ${item}s a day for ${time2} days. How many ${item}s total?",
    "For the first ${time1} hours, ${name} earns $${rate1} per hour. For the next ${time2} hours, ${subj} earns $${rate2} per hour. Total earnings?",
    "${name} worked ${time1} hours at $${rate1}/hour, then ${time2} hours at $${rate2}/hour. How much did ${name} earn in total?",
    "${name} reads ${rate1} pages per day for ${time1} days. Then ${subj} speeds up and reads ${rate2} pages per day for the next ${time2} days. How many pages did ${subj} read altogether?",
    "During the morning shift, ${name} makes $${rate1} per hour for ${time1} hours. During the evening shift, ${subj} makes $${rate2} per hour for ${time2} hours. What are ${name}'s total earnings?",
    "${name} drives at ${rate1} mph for ${time1} hours on the highway, then at ${rate2} mph for ${time2} hours in the city. How many miles does ${subj} travel in total?",
    "In the first phase, ${name} completes ${rate1} tasks per hour for ${time1} hours. In the second phase, ${subj} completes ${rate2} tasks per hour for ${time2} hours. How many tasks did ${subj} complete total?"
  ],
  "trace": [
    {"op": "init", "var": "rate1", "value": "rate1"},
    {"op": "init", "var": "time1", "value": "time1"},
    {"op": "compute", "compute_op": "mul", "args": ["rate1", "time1"], "var": "step1"},
    {"op": "init", "var": "rate2", "value": "rate2"},
    {"op": "init", "var": "time2", "value": "time2"},
    {"op": "compute", "compute_op": "mul", "args": ["rate2", "time2"], "var": "step2"},
    {"op": "compute", "compute_op": "add", "args": ["step1", "step2"], "var": "result"},
    {"op": "query", "var": "result"}
  ],
  "answer": "rate1 * time1 + rate2 * time2"
}
