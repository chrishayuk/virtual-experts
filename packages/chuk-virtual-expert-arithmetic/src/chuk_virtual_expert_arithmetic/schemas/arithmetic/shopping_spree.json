{
  "name": "shopping_spree",
  "description": "Multi-store shopping with budget",
  "variables": {
    "start": {
      "type": "int",
      "min": 100,
      "max": 250
    },
    "cost1": {
      "type": "int",
      "min": 10,
      "max": 40
    },
    "cost2": {
      "type": "int",
      "min": 10,
      "max": 40
    },
    "cost3": {
      "type": "int",
      "min": 10,
      "max": 30
    }
  },
  "constraints": {
    "start - cost1 - cost2 - cost3": {
      "min": 10
    }
  },
  "trace": [
    {
      "op": "init",
      "var": "start",
      "value": "start"
    },
    {
      "op": "init",
      "var": "cost1",
      "value": "cost1"
    },
    {
      "op": "init",
      "var": "cost2",
      "value": "cost2"
    },
    {
      "op": "init",
      "var": "cost3",
      "value": "cost3"
    },
    {
      "op": "compute",
      "compute_op": "sub",
      "args": [
        "start",
        "cost1"
      ],
      "var": "step1"
    },
    {
      "op": "compute",
      "compute_op": "sub",
      "args": [
        "step1",
        "cost2"
      ],
      "var": "step2"
    },
    {
      "op": "compute",
      "compute_op": "sub",
      "args": [
        "step2",
        "cost3"
      ],
      "var": "result"
    },
    {
      "op": "query",
      "var": "result"
    }
  ],
  "answer": "start - cost1 - cost2 - cost3",
  "pattern": "multi_step_narrative",
  "variant": "shopping_spree",
  "mixins": ["person_vocab"],
  "vocab": {
    "item1": {"path": "items.countable_singular"},
    "item2": {"path": "items.countable_singular"},
    "item3": {"path": "items.countable_singular"}
  },
  "template_vars": {
    "item1": "item1|pluralize",
    "item2": "item2|pluralize",
    "item3": "item3|pluralize"
  }
}
