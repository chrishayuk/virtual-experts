{
  "name": "ratio_split",
  "description": "Split total where one gets N times as much: total / (1 + ratio) * ratio",
  "variables": {
    "total": {
      "type": "int",
      "min": 50,
      "max": 200
    },
    "ratio": {
      "type": "int",
      "min": 2,
      "max": 5
    }
  },
  "trace": [
    {
      "op": "init",
      "var": "total",
      "value": "total"
    },
    {
      "op": "init",
      "var": "ratio",
      "value": "ratio"
    },
    {
      "op": "init",
      "var": "one",
      "value": 1
    },
    {
      "op": "compute",
      "compute_op": "add",
      "args": [
        "ratio",
        "one"
      ],
      "var": "parts"
    },
    {
      "op": "compute",
      "compute_op": "div",
      "args": [
        "total",
        "parts"
      ],
      "var": "step1"
    },
    {
      "op": "compute",
      "compute_op": "mul",
      "args": [
        "step1",
        "ratio"
      ],
      "var": "result"
    },
    {
      "op": "query",
      "var": "result"
    }
  ],
  "answer": "total / (ratio + 1) * ratio",
  "pattern": "ratio_split",
  "vocab": {
    "person1": {
      "type": "person_with_pronouns"
    },
    "person2": {
      "type": "person_with_pronouns"
    }
  },
  "template_vars": {
    "name1": "person1.name",
    "name2": "person2.name"
  }
}
